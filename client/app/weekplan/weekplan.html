<md-toolbar class="md-theme-light">
  <div class="md-toolbar-tools">
    <md-button aria-label="Go Back" style="color: greenyellow;" ng-click="goBack()">
      Go Back
    </md-button>
    <span hide-sm hide-xs>{{syllabus.course}}</span>
    <small>{{syllabus.class}}</small>
    </h2>
    <span flex></span>
    <h2>
      <span hide-sm hide-xs>{{syllabus.education}} - </span>
      <span hide-sm hide-xs>{{syllabus.academy}}</span>
    </h2>
  </div>
</md-toolbar>

<md-content flex-offset="10" flex="80">
  {{$scope.weekplan}}
  <div flex-sm="100" flex-xs="100" layout="column">
    <md-card>
      <md-card-content layout="row" layout-wrap>
        <div flex="15" flex-sm="100" flex-xs="100">
          <div style="text-align: center;">
            <md-button style="font-size:60px;" aria-label="Edit presentation" ng-click="edit()" class="md-raised">
              <i class="fa fa-calendar" ng-style="{true: {color: 'blue'}, false: {}}[editPage]"></i>
            </md-button>
          </div>
          <h3 style="text-align: center; margin-top:5px;">
            Week {{weekplan.week}}
          </h3>
          <div ng-show="!editPage"  style="text-align: center;">
            <md-button style="font-size:20px;" aria-label="Edit presentation" ng-click="edit()" class="md-icon-button">
              <i class="fa fa-pencil"></i>
            </md-button>
          </div>
          <div ng-show="editPage"  style="text-align: center;">
            <md-button style="font-size:20px;" aria-label="Edit presentation" ng-click="undo()" class="md-icon-button">
              <i class="fa fa-undo"></i>
            </md-button>
            <md-button style="font-size:20px;" aria-label="Edit presentation" ng-click="save()" class="md-icon-button md-primary">
              <i class="fa fa-floppy-o"></i>
            </md-button>
          </div>
          <div ng-show="editPage"  style="text-align: center;color:red;">
            <h4>Edit mode active</h4>
          </div>
        </div>
        <div flex flex-sm="100" flex-xs="100">
          <md-tabs md-dynamic-height md-border-bottom>
            <md-tab>
              <md-tab-label>
                <i class="fa fa-book"></i> Presentation
              </md-tab-label>
              <md-tab-body>
                <div ng-show="!editPage" style="margin-top:20px;" class="bordered-box">
                  <small ng-show="!weekplan.topics">No presentation this week</small>
                  <div ng-bind-html="toTrusted(weekplan.topics)"></div>
                </div>
                <div ng-show="editPage">
                  <div summernote style="padding:2px; border:2px dashed #e4e5e7;" config="options" contentEditable=true data-ph="Insert topics etc.." ng-model="editTopics"></div>
                </div>
              </md-tab-body>
            </md-tab>
            <md-tab>
              <md-tab-label>
                <i class="fa fa-book"></i> Videos
                <md-badge>{{weekplan.videosBeforeClass || weekplan.videosOthers ? weekplan.videosBeforeClass.length + weekplan.videosOthers.length: 0}}</md-badge>
              </md-tab-label>
              <md-tab-body>
                <div ng-show="!editPage">
                  <h5>Videos, you should see before class</h5>
                  <small ng-show="!weekplan.videosBeforeClass">No videos this week</small>
                  <div ng-repeat="video in weekplan.videosBeforeClass" style="word-wrap: break-word;">
                    <p>{{video.title}}</p>
                    <ng-video-preview source="youtube" url="video.url"></ng-video-preview>
                  </div>
                  <hr>
                  <h5>Other videos</h5>
                  <small ng-show="!weekplan.videosOthers">No videos this week</small>
                  <div ng-repeat="video in weekplan.videosOthers" style="word-wrap: break-word;">
                    <p>{{video.title}}</p>
                    <ng-video-preview source="youtube" url="video.url"></ng-video-preview>
                  </div>
                </div>
              </md-tab-body>
            </md-tab>
            <md-tab>
              <md-tab-label>
                <i class="fa fa-bookmark"></i> Literature
                <md-badge>{{weekplan.literature ? weekplan.literature.length : 0}}</md-badge>
              </md-tab-label>
              <md-tab-body>
                <div ng-show="!editPage">

                  <small ng-show="!weekplan.literature || weekplan.literature.length===0"> No literature this week </small>
                  <div ng-repeat="literature in weekplan.literature" style="word-wrap: break-word;">
                    <h5>{{literature.title}}</h5>
                    <a href="{{literature.url}}">{{literature.url}}</a>
                  </div>
                </div>
              </md-tab-body>
            </md-tab>
            <md-tab>
              <md-tab-label>
                <i class="fa fa-flag"></i> Assignments
                <md-badge>{{weekplan.assignments ? weekplan.assignments.length : 0}}</md-badge>
              </md-tab-label>
              <md-tab-body>
                <div ng-show="!editPage">

                  <small ng-show="!weekplan.assignments">No assignments this week</small>
                  <div ng-repeat="assignment in weekplan.assignments" style="word-wrap: break-word;">
                    <h5>{{assignment.title}}</h5>
                    <p ng-bind-html='assignment.description'></p>
                  </div>
                </div>
              </md-tab-body>
            </md-tab>
          </md-tabs>
        </div>
      </md-card-content>
    </md-card>
  </div>
</md-content>

<footer></footer>
